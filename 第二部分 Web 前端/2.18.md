# åçˆ¬æŠ€æœ¯ç ”ç©¶

> å¯¹äºå†…å®¹å‹çš„å…¬å¸ï¼Œæ•°æ®çš„å®‰å…¨æ€§å¾ˆé‡è¦ã€‚å¯¹äºå†…å®¹å…¬å¸æ¥è¯´ï¼Œæ•°æ®çš„é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚æ¯”å¦‚ä½ ä¸€ä¸ªåšåœ¨çº¿æ•™è‚²çš„å¹³å°ï¼Œé¢˜ç›®çš„æ•°æ®å¾ˆé‡è¦å§ï¼Œä½†æ˜¯è¢«åˆ«äººé€šè¿‡çˆ¬è™«æŠ€æœ¯å…¨éƒ¨çˆ¬èµ°äº†ï¼Ÿå¦‚æœæ ¸å¿ƒç«äº‰åŠ›éƒ½è¢«æ‹¿èµ°äº†ï¼Œé‚£å°±æ˜¯å‡‰å‡‰ã€‚å†æ¯”è¯´æœ‰ä¸ªç‹¬ç«‹å¼€å‘è€…æƒ³æŠ„è¢­ä½ çš„äº§å“ï¼Œé€šè¿‡æŠ“åŒ…å’Œçˆ¬è™«æ‰‹æ®µå°†ä½ æ ¸å¿ƒçš„æ•°æ®æ‹¿èµ°ï¼Œç„¶åçŸ­æœŸå†…åšä¸ªç½‘ç«™å’Œ Appï¼ŒçŸ­æœŸå†…æˆä¸ºä½ çš„åŠ²æ•Œã€‚




# çˆ¬è™«æ‰‹æ®µ
- ç›®å‰çˆ¬è™«æŠ€æœ¯éƒ½æ˜¯ä»æ¸²æŸ“å¥½çš„ html é¡µé¢ç›´æ¥æ‰¾åˆ°æ„Ÿå…´è¶£çš„èŠ‚ç‚¹ï¼Œç„¶åè·å–å¯¹åº”çš„æ–‡æœ¬
- æœ‰äº›ç½‘ç«™å®‰å…¨æ€§åšçš„å¥½ï¼Œæ¯”å¦‚åˆ—è¡¨é¡µå¯èƒ½å¥½è·å–ï¼Œä½†æ˜¯è¯¦æƒ…é¡µå°±éœ€è¦ä»åˆ—è¡¨é¡µç‚¹å‡»å¯¹åº”çš„ itemï¼Œå°† itemId é€šè¿‡ form è¡¨å•æäº¤ï¼ŒæœåŠ¡ç«¯ç”Ÿæˆå¯¹åº”çš„å‚æ•°ï¼Œç„¶åé‡å®šå‘åˆ°è¯¦æƒ…é¡µï¼ˆé‡å®šå‘è¿‡æ¥çš„åœ°å€åæ‰å¸¦æœ‰è¯¦æƒ…é¡µçš„å‚æ•° detailIDï¼‰ï¼Œè¿™ä¸ªæ­¥éª¤å°±å¯ä»¥æ‹¦æˆªæ‰ä¸€éƒ¨åˆ†çš„çˆ¬è™«å¼€å‘è€…



# åˆ¶å®šå‡º**Web ç«¯åçˆ¬æŠ€æœ¯æ–¹æ¡ˆ**

æœ¬äººä»è¿™2ä¸ªè§’åº¦ï¼ˆç½‘é¡µæ‰€è§éæ‰€å¾—ã€æŸ¥æ¥å£è¯·æ±‚æ²¡ç”¨ï¼‰å‡ºå‘ï¼Œåˆ¶å®šäº†ä¸‹é¢çš„åçˆ¬æ–¹æ¡ˆã€‚



- ä½¿ç”¨HTTPS åè®®

- å•ä½æ—¶é—´å†…é™åˆ¶æ‰è¯·æ±‚æ¬¡æ•°è¿‡å¤šï¼Œåˆ™å°é”è¯¥è´¦å·

- å‰ç«¯æŠ€æœ¯é™åˆ¶ ï¼ˆæ¥ä¸‹æ¥æ˜¯æ ¸å¿ƒæŠ€æœ¯ï¼‰

```markdown
# æ¯”å¦‚éœ€è¦æ­£ç¡®æ˜¾ç¤ºçš„æ•°æ®ä¸ºâ€œ19950220â€

1. å…ˆæŒ‰ç…§è‡ªå·±éœ€æ±‚åˆ©ç”¨ç›¸åº”çš„è§„åˆ™ï¼ˆæ•°å­—ä¹±åºæ˜ å°„ï¼Œæ¯”å¦‚æ­£å¸¸çš„0å¯¹åº”è¿˜æ˜¯0ï¼Œä½†æ˜¯ä¹±åºå°±æ˜¯ 0 <-> 1ï¼Œ1 <-> 9,3 <-> 8,...ï¼‰åˆ¶ä½œè‡ªå®šä¹‰å­—ä½“ï¼ˆttfï¼‰
2. æ ¹æ®ä¸Šé¢çš„ä¹±åºæ˜ å°„è§„å¾‹ï¼Œæ±‚å¾—åˆ°éœ€è¦è¿”å›çš„æ•°æ® 19950220 -> 17730220
3. å¯¹äºç¬¬ä¸€æ­¥å¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œä¾æ¬¡éå†æ¯ä¸ªå­—ç¬¦ï¼Œå°†æ¯ä¸ªå­—ç¬¦æ ¹æ®æŒ‰ç…§çº¿æ€§å˜æ¢ï¼ˆy=kx+bï¼‰ã€‚çº¿æ€§æ–¹ç¨‹çš„ç³»æ•°å’Œå¸¸æ•°é¡¹æ˜¯æ ¹æ®å½“å‰çš„æ—¥æœŸè®¡ç®—å¾—åˆ°çš„ã€‚æ¯”å¦‚å½“å‰çš„æ—¥æœŸä¸ºâ€œ2018-07-24â€ï¼Œé‚£ä¹ˆçº¿æ€§å˜æ¢çš„ k ä¸º 7ï¼Œb ä¸º 24ã€‚
4. ç„¶åå°†å˜æ¢åçš„æ¯ä¸ªå­—ç¬¦ä¸²ç”¨â€œ3.1415926â€æ‹¼æ¥è¿”å›ç»™æ¥å£è°ƒç”¨è€…ã€‚(ä¸ºä»€ä¹ˆæ˜¯3.1415926ï¼Œå› ä¸ºå¯¹æ•°å­—ä¼ªé€ åçˆ¬ï¼Œæ‰€ä»¥æ‹¼æ¥çš„æ–‡æœ¬è‚¯å®šæ˜¯æ•°å­—çš„è¯ä¸å¤ªä¼šå¼•èµ·ç ”ç©¶è€…çš„æ³¨æ„ï¼Œä½†æ˜¯æ•°å­—é•¿åº¦å¤ªçŸ­ä¼šè¯¯ä¼¤æ­£å¸¸çš„æ•°æ®ï¼Œæ‰€ä»¥ç”¨æ‰€ç†Ÿæ‚‰çš„ Î )

â€‹```
1773 -> â€œ1*7+24â€ + â€œ3.1415926â€ + â€œ7*7+24â€ + â€œ3.1415926â€ + â€œ7*7+24â€ + â€œ3.1415926â€ + â€œ3*7+24â€ -> 313.1415926733.1415926733.141592645
02 -> "0*7+24" + "3.1415926" + "2*7+24" -> 243.141592638
20 -> "2*7+24" + "3.1415926" + "0*7+24" -> 383.141592624
â€‹```

# å‰ç«¯æ‹¿åˆ°æ•°æ®åå†è§£å¯†ï¼Œè§£å¯†åæ ¹æ®è‡ªå®šä¹‰çš„å­—ä½“ Render é¡µé¢
1. å…ˆå°†æ‹¿åˆ°çš„å­—ç¬¦ä¸²æŒ‰ç…§â€œ3.1415926â€æ‹†åˆ†ä¸ºæ•°ç»„
2. å¯¹æ•°ç»„çš„æ¯1ä¸ªæ•°æ®ï¼ŒæŒ‰ç…§â€œçº¿æ€§å˜æ¢â€ï¼ˆy=kx+bï¼Œkå’ŒbåŒæ ·æŒ‰ç…§å½“å‰çš„æ—¥æœŸæ±‚è§£å¾—åˆ°ï¼‰ï¼Œé€†å‘æ±‚è§£åˆ°åŸæœ¬çš„å€¼ã€‚
3. å°†æ­¥éª¤2çš„çš„åˆ°çš„æ•°æ®ä¾æ¬¡æ‹¼æ¥ï¼Œå†æ ¹æ® ttf æ–‡ä»¶ Render é¡µé¢ä¸Šã€‚
```

- åç«¯éœ€è¦æ ¹æ®ä¸Šä¸€æ­¥è®¾è®¡çš„åè®®å°†æ•°æ®è¿›è¡ŒåŠ å¯†å¤„ç†

ä¸‹é¢ä»¥ **Node.js** ä¸ºä¾‹è®²è§£åç«¯éœ€è¦åšçš„äº‹æƒ…

- é¦–å…ˆåç«¯è®¾ç½®æ¥å£è·¯ç”±

- è·å–è·¯ç”±åé¢çš„å‚æ•°

- æ ¹æ®ä¸šåŠ¡éœ€è¦æ ¹æ® SQL è¯­å¥ç”Ÿæˆå¯¹åº”çš„æ•°æ®ã€‚å¦‚æœæ˜¯æ•°å­—éƒ¨åˆ†ï¼Œåˆ™éœ€è¦æŒ‰ç…§ä¸Šé¢çº¦å®šçš„æ–¹æ³•åŠ ä»¥è½¬æ¢ã€‚

- å°†ç”Ÿæˆæ•°æ®è½¬æ¢æˆ JSON è¿”å›ç»™è°ƒç”¨è€…

  ```js
  // json
  var JoinOparatorSymbol = "3.1415926";
  function encode(rawData, ruleType) {
    if (!isNotEmptyStr(rawData)) {
      return "";
    }
    var date = new Date();
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
  
    var encodeData = "";
    for (var index = 0; index < rawData.length; index++) {
      var datacomponent = rawData[index];
      if (!isNaN(datacomponent)) {
        if (ruleType < 3) {
          var currentNumber = rawDataMap(String(datacomponent), ruleType);
          encodeData += (currentNumber * month + day) + JoinOparatorSymbol;
        }
        else if (ruleType == 4) {
          encodeData += rawDataMap(String(datacomponent), ruleType);
        }
        else {
          encodeData += rawDataMap(String(datacomponent), ruleType) + JoinOparatorSymbol;
        }
      }
      else if (ruleType == 4) {
        encodeData += rawDataMap(String(datacomponent), ruleType);
      }
  
    }
    if (encodeData.length >= JoinOparatorSymbol.length) {
      var lastTwoString = encodeData.substring(encodeData.length - JoinOparatorSymbol.length, encodeData.length);
      if (lastTwoString == JoinOparatorSymbol) {
        encodeData = encodeData.substring(0, encodeData.length - JoinOparatorSymbol.length);
      }
    }
  ```

  ```javascript
  //å­—ä½“æ˜ å°„å¤„ç†
  function rawDataMap(rawData, ruleType) {
  
    if (!isNotEmptyStr(rawData) || !isNotEmptyStr(ruleType)) {
      return;
    }
    var mapData;
    var rawNumber = parseInt(rawData);
    var ruleTypeNumber = parseInt(ruleType);
    if (!isNaN(rawData)) {
      lastNumberCategory = ruleTypeNumber;
      //å­—ä½“æ–‡ä»¶1ä¸‹çš„æ•°æ®åŠ å¯†è§„åˆ™
      if (ruleTypeNumber == 1) {
        if (rawNumber == 1) {
          mapData = 1;
        }
        else if (rawNumber == 2) {
          mapData = 2;
        }
        else if (rawNumber == 3) {
          mapData = 4;
        }
        else if (rawNumber == 4) {
          mapData = 5;
        }
        else if (rawNumber == 5) {
          mapData = 3;
        }
        else if (rawNumber == 6) {
          mapData = 8;
        }
        else if (rawNumber == 7) {
          mapData = 6;
        }
        else if (rawNumber == 8) {
          mapData = 9;
        }
        else if (rawNumber == 9) {
          mapData = 7;
        }
        else if (rawNumber == 0) {
          mapData = 0;
        }
      }
      //å­—ä½“æ–‡ä»¶2ä¸‹çš„æ•°æ®åŠ å¯†è§„åˆ™
      else if (ruleTypeNumber == 0) {
  
        if (rawNumber == 1) {
          mapData = 4;
        }
        else if (rawNumber == 2) {
          mapData = 2;
        }
        else if (rawNumber == 3) {
          mapData = 3;
        }
        else if (rawNumber == 4) {
          mapData = 1;
        }
        else if (rawNumber == 5) {
          mapData = 8;
        }
        else if (rawNumber == 6) {
          mapData = 5;
        }
        else if (rawNumber == 7) {
          mapData = 6;
        }
        else if (rawNumber == 8) {
          mapData = 7;
        }
        else if (rawNumber == 9) {
          mapData = 9;
        }
        else if (rawNumber == 0) {
          mapData = 0;
        }
      }
      //å­—ä½“æ–‡ä»¶3ä¸‹çš„æ•°æ®åŠ å¯†è§„åˆ™
      else if (ruleTypeNumber == 2) {
  
        if (rawNumber == 1) {
          mapData = 6;
        }
        else if (rawNumber == 2) {
          mapData = 2;
        }
        else if (rawNumber == 3) {
          mapData = 1;
        }
        else if (rawNumber == 4) {
          mapData = 3;
        }
        else if (rawNumber == 5) {
          mapData = 4;
        }
        else if (rawNumber == 6) {
          mapData = 8;
        }
        else if (rawNumber == 7) {
          mapData = 3;
        }
        else if (rawNumber == 8) {
          mapData = 7;
        }
        else if (rawNumber == 9) {
          mapData = 9;
        }
        else if (rawNumber == 0) {
          mapData = 0;
        }
      }
      else if (ruleTypeNumber == 3) {
  
        if (rawNumber == 1) {
          mapData = "&#xefab;";
        }
        else if (rawNumber == 2) {
          mapData = "&#xeba3;";
        }
        else if (rawNumber == 3) {
          mapData = "&#xecfa;";
        }
        else if (rawNumber == 4) {
          mapData = "&#xedfd;";
        }
        else if (rawNumber == 5) {
          mapData = "&#xeffa;";
        }
        else if (rawNumber == 6) {
          mapData = "&#xef3a;";
        }
        else if (rawNumber == 7) {
          mapData = "&#xe6f5;";
        }
        else if (rawNumber == 8) {
          mapData = "&#xecb2;";
        }
        else if (rawNumber == 9) {
          mapData = "&#xe8ae;";
        }
        else if (rawNumber == 0) {
          mapData = "&#xe1f2;";
        }
      }
      else{
        mapData = rawNumber;
      }
    } else if (ruleTypeNumber == 4) {
      var sources = ["å¹´", "ä¸‡", "ä¸š", "äºº", "ä¿¡", "å…ƒ", "åƒ", "å¸", "å·", "èµ„", "é€ ", "é’±"];
      //åˆ¤æ–­å­—ç¬¦ä¸²ä¸ºæ±‰å­—
      if (/^[\u4e00-\u9fa5]*$/.test(rawData)) {
  
        if (sources.indexOf(rawData) > -1) {
          var currentChineseHexcod = rawData.charCodeAt(0).toString(16);
          var lastCompoent;
          var mapComponetnt;
          var numbers = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
          var characters = ["a", "b", "c", "d", "e", "f", "g", "h", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
  
          if (currentChineseHexcod.length == 4) {
            lastCompoent = currentChineseHexcod.substr(3, 1);
            var locationInComponents = 0;
            if (/[0-9]/.test(lastCompoent)) {
              locationInComponents = numbers.indexOf(lastCompoent);
              mapComponetnt = numbers[(locationInComponents + 1) % 10];
            }
            else if (/[a-z]/.test(lastCompoent)) {
              locationInComponents = characters.indexOf(lastCompoent);
              mapComponetnt = characters[(locationInComponents + 1) % 26];
            }
            mapData = "&#x" + currentChineseHexcod.substr(0, 3) + mapComponetnt + ";";
          }
        } else {
          mapData = rawData;
        }
  
      }
      else if (/[0-9]/.test(rawData)) {
        mapData = rawDataMap(rawData, 2);
      }
      else {
        mapData = rawData;
      }
  
    }
    return mapData;
  }
  ```

  ```javascript
  //api
  module.exports = {
      "GET /api/products": async (ctx, next) => {
          ctx.response.type = "application/json";
          ctx.response.body = {
              products: products
          };
      },
  
      "GET /api/solution1": async (ctx, next) => {
  
          try {
              var data = fs.readFileSync(pathname, "utf-8");
              ruleJson = JSON.parse(data);
              rule = ruleJson.data.rule;
          } catch (error) {
              console.log("fail: " + error);
          }
  
          var data = {
              code: 200,
              message: "success",
              data: {
                  name: "@æ­åŸå°åˆ˜",
                  year: LBPEncode("1995", rule),
                  month: LBPEncode("02", rule),
                  day: LBPEncode("20", rule),
                  analysis : rule
              }
          }
  
          ctx.set("Access-Control-Allow-Origin", "*");
          ctx.response.type = "application/json";
          ctx.response.body = data;
      },
  
  
      "GET /api/solution2": async (ctx, next) => {
          try {
              var data = fs.readFileSync(pathname, "utf-8");
              ruleJson = JSON.parse(data);
              rule = ruleJson.data.rule;
          } catch (error) {
              console.log("fail: " + error);
          }
  
          var data = {
              code: 200,
              message: "success",
              data: {
                  name: LBPEncode("å»ºé€ å¸ˆ",rule),
                  birthday: LBPEncode("1995å¹´02æœˆ20æ—¥",rule),
                  company: LBPEncode("ä¸­å¤©å…¬å¸",rule),
                  address: LBPEncode("æµ™æ±Ÿçœæ­å·å¸‚æ‹±å¢…åŒºçŸ³ç¥¥è·¯",rule),
                  bidprice: LBPEncode("2ä¸‡å…ƒ",rule),
                  negative: LBPEncode("2018å¹´åŠäº‹æ•ˆç‡å¤ªé«˜ã€è´Ÿé¢åŸºæœ¬æ²¡æœ‰",rule),
                  title: LBPEncode("å»ºé€ å¸ˆ",rule),
                  honor: LBPEncode("æœ€ä½³å¥–",rule),
                  analysis : rule
              }
          }
          ctx.set("Access-Control-Allow-Origin", "*");
          ctx.response.type = "application/json";
          ctx.response.body = data;
      },
  
      "POST /api/products": async (ctx, next) => {
          var p = {
              name: ctx.request.body.name,
              price: ctx.request.body.price
          };
          products.push(p);
          ctx.response.type = "application/json";
          ctx.response.body = p;
      }
  };
  ```

  ```javascript
  //è·¯ç”±
  const fs = require("fs");
  
  function addMapping(router, mapping){
      for(var url in mapping){
          if (url.startsWith("GET")) {
              var path = url.substring(4);
              router.get(path,mapping[url]);
              console.log(`Register URL mapping: GET: ${path}`);
          }else if (url.startsWith('POST ')) {
              var path = url.substring(5);
              router.post(path, mapping[url]);
              console.log(`Register URL mapping: POST ${path}`);
          } else if (url.startsWith('PUT ')) {
              var path = url.substring(4);
              router.put(path, mapping[url]);
              console.log(`Register URL mapping: PUT ${path}`);
          } else if (url.startsWith('DELETE ')) {
              var path = url.substring(7);
              router.del(path, mapping[url]);
              console.log(`Register URL mapping: DELETE ${path}`);
          } else {
              console.log(`Invalid URL: ${url}`);
          }
  
      }
  }
  
  
  function addControllers(router, dir){
      fs.readdirSync(__dirname + "/" + dir).filter( (f) => {
          return f.endsWith(".js");
      }).forEach( (f) => {
          console.log(`Process controllers:${f}...`);
          let mapping = require(__dirname + "/" + dir + "/" + f);
          addMapping(router,mapping);
      });
  }
  
  module.exports = function(dir){
      let controllers = dir || "controller";
      let router = require("koa-router")();
  
      addControllers(router,controllers);
      return router.routes();
  };
  
  
  ```

  

- å‰ç«¯æ ¹æ®æœåŠ¡ç«¯è¿”å›çš„æ•°æ®é€†å‘è§£å¯†

  ```javascript
  $("#year").html(getRawData(data.year,log));
  
  // util.js
  var JoinOparatorSymbol = "3.1415926";
  function isNotEmptyStr($str) {
    if (String($str) == "" || $str == undefined || $str == null || $str == "null") {
      return false;
    }
    return true;
  }
  
  function getRawData($json,analisys) {
    $json = $json.toString();
    if (!isNotEmptyStr($json)) {
      return;
    }
    
    var date= new Date();
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var datacomponents = $json.split(JoinOparatorSymbol);
    var orginalMessage = "";
    for(var index = 0;index < datacomponents.length;index++){
      var datacomponent = datacomponents[index];
        if (!isNaN(datacomponent) && analisys < 3){
            var currentNumber = parseInt(datacomponent);
            orginalMessage += (currentNumber -  day)/month;
        }
        else if(analisys == 3){
           orginalMessage += datacomponent;
        }
        else{
          //å…¶ä»–æƒ…å†µå¾…ç»­ï¼Œæœ¬ Demo æ ¹æ®æœ¬äººåœ¨ç ”ç©¶åçˆ¬æ–¹é¢çš„æŠ€æœ¯å¹¶å®è·µåæŒç»­æ›´æ–°
        }
    }
    return orginalMessage;
  }
  
  ```

  

æ¯”å¦‚åç«¯è¿”å›çš„æ˜¯323.14743.14743.1446ï¼Œæ ¹æ®æˆ‘ä»¬çº¦å®šçš„ç®—æ³•ï¼Œå¯ä»¥çš„åˆ°ç»“æœä¸º1773

- æ ¹æ® ttf æ–‡ä»¶ Render é¡µé¢
  ![è‡ªå®šä¹‰å­—ä½“æ–‡ä»¶](https://fantasticlbp.gitbooks.io/knowledge-kit/content/assets/WX20180724-184215@2x.png)
  ä¸Šé¢è®¡ç®—çš„åˆ°çš„1773ï¼Œç„¶åæ ¹æ®ttfæ–‡ä»¶ï¼Œé¡µé¢çœ‹åˆ°çš„å°±æ˜¯1995

- ç„¶åä¸ºäº†é˜²æ­¢çˆ¬è™«äººå‘˜æŸ¥çœ‹ JS ç ”ç©¶é—®é¢˜ï¼Œæ‰€ä»¥å¯¹ JS çš„æ–‡ä»¶è¿›è¡Œäº†åŠ å¯†å¤„ç†ã€‚å¦‚æœä½ çš„æŠ€æœ¯æ ˆæ˜¯ Vue ã€React ç­‰ï¼Œwebpack ä¸ºä½ æä¾›äº† JS åŠ å¯†çš„æ’ä»¶ï¼Œä¹Ÿå¾ˆæ–¹ä¾¿å¤„ç†

  [JSæ··æ·†å·¥å…·](http://www.javascriptobfuscator.com/Javascript-Obfuscator.aspx)

- ä¸ªäººè§‰å¾—è¿™ç§æ–¹å¼è¿˜ä¸æ˜¯å¾ˆå®‰å…¨ã€‚äºæ˜¯æƒ³åˆ°äº†å„ç§æ–¹æ¡ˆçš„ç»„åˆæ‹³ã€‚æ¯”å¦‚




## ã€€åçˆ¬å‡çº§ç‰ˆ

ä¸ªäººè§‰å¾—å¦‚æœä¸€ä¸ªå‰ç«¯ç»éªŒä¸°å¯Œçš„çˆ¬è™«å¼€å‘è€…æ¥è¯´ï¼Œä¸Šé¢çš„æ–¹æ¡ˆå¯èƒ½è¿˜æ˜¯ä¼šå­˜åœ¨è¢«ç ´è§£çš„å¯èƒ½ï¼Œæ‰€ä»¥åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šåšäº†å‡çº§ç‰ˆæœ¬

1. ç»„åˆæ‹³1: å­—ä½“æ–‡ä»¶ä¸è¦å›ºå®šï¼Œè™½ç„¶è¯·æ±‚çš„é“¾æ¥æ˜¯åŒä¸€ä¸ªï¼Œä½†æ˜¯æ ¹æ®å½“å‰çš„æ—¶é—´æˆ³çš„æœ€åä¸€ä¸ªæ•°å­—å–æ¨¡ï¼Œæ¯”å¦‚ Demo ä¸­å¯¹4å–æ¨¡ï¼Œæœ‰4ç§å€¼ 0ã€1ã€2ã€3ã€‚è¿™4ç§å€¼å¯¹åº”ä¸åŒçš„å­—ä½“æ–‡ä»¶ï¼Œæ‰€ä»¥å½“çˆ¬è™«ç»å°½è„‘æ±çˆ¬åˆ°1ç§æƒ…å†µä¸‹çš„å­—ä½“æ—¶ï¼Œæ²¡æƒ³åˆ°å†æ¬¡è¯·æ±‚ï¼Œå­—ä½“æ–‡ä»¶çš„è§„åˆ™å˜æ‰äº† ğŸ˜‚
2. ç»„åˆæ‹³2: å‰é¢çš„è§„åˆ™æ˜¯å­—ä½“é—®é¢˜ä¹±åºï¼Œä½†æ˜¯åªæ˜¯æ•°å­—åŒ¹é…æ‰“ä¹±æ‰ã€‚æ¯”å¦‚ **1** -> **4**, **5** -> **8**ã€‚æ¥ä¸‹æ¥çš„å¥—è·¯å°±æ˜¯æ¯ä¸ªæ•°å­—å¯¹åº”ä¸€ä¸ª **unicode ç ** ï¼Œç„¶ååˆ¶ä½œè‡ªå·±éœ€è¦çš„å­—ä½“ï¼Œå¯ä»¥æ˜¯ .ttfã€.woff ç­‰ç­‰ã€‚

![ç½‘é¡µæ£€å¯Ÿå…ƒç´ å¾—åˆ°çš„æ•ˆæœ](https://fantasticlbp.gitbooks.io/knowledge-kit/content/assets/WX20180726-161418.png)
![æ¥å£è¿”å›æ•°æ®](https://fantasticlbp.gitbooks.io/knowledge-kit/content/assets/WX20180726-161429.png)

è¿™å‡ ç§ç»„åˆæ‹³æ‰“ä¸‹æ¥ã€‚å¯¹äºä¸€èˆ¬çš„çˆ¬è™«å°±æ”¾å¼ƒäº†ã€‚





## åçˆ¬æ‰‹æ®µå†å‡çº§

ä¸Šé¢è¯´çš„æ–¹æ³•ä¸»è¦æ˜¯é’ˆå¯¹**æ•°å­—**åšçš„åçˆ¬æ‰‹æ®µï¼Œå¦‚æœè¦å¯¹æ±‰å­—è¿›è¡Œåçˆ¬æ€ä¹ˆåŠï¼Ÿæ¥ä¸‹æ¥æä¾›å‡ ç§æ–¹æ¡ˆ

1. **æ–¹æ¡ˆ1:** å¯¹äºä½ ç«™ç‚¹é¢‘ç‡æœ€é«˜çš„è¯äº‘ï¼Œåšä¸€ä¸ªæ±‰å­—æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯è‡ªå®šä¹‰å­—ä½“æ–‡ä»¶ï¼Œæ­¥éª¤è·Ÿæ•°å­—ä¸€æ ·ã€‚å…ˆå°†å¸¸ç”¨çš„æ±‰å­—ç”Ÿæˆå¯¹åº”çš„ ttf æ–‡ä»¶ï¼›æ ¹æ®ä¸‹é¢æä¾›çš„é“¾æ¥ï¼Œå°† ttf æ–‡ä»¶è½¬æ¢ä¸º svg æ–‡ä»¶ï¼Œç„¶ååœ¨ä¸‹é¢çš„â€œå­—ä½“æ˜ å°„â€é“¾æ¥ç‚¹è¿›å»çš„ç½‘ç«™ä¸Šé¢é€‰æ‹©å‰é¢ç”Ÿæˆçš„ svg æ–‡ä»¶ï¼Œå°†svgæ–‡ä»¶é‡Œé¢çš„æ¯ä¸ªæ±‰å­—åšä¸ªæ˜ å°„ï¼Œä¹Ÿå°±æ˜¯å°†æ±‰å­—ä¸“ä¸º unicode ç ï¼ˆæ³¨æ„è¿™é‡Œçš„ unicode ç ä¸è¦å»åœ¨çº¿ç›´æ¥ç”Ÿæˆï¼Œå› ä¸ºç›´æ¥ç”Ÿæˆçš„ä¸œè¥¿ä¹Ÿå°±æ˜¯æœ‰è§„å¾‹çš„ã€‚æˆ‘ç»™çš„åšæ³•æ˜¯å…ˆç”¨ç½‘ç«™ç”Ÿæˆï¼Œç„¶åå°†å¾—åˆ°çš„ç»“æœåšä¸ªç®€å•çš„å˜åŒ–ï¼Œæ¯”å¦‚å°†â€œe342â€è½¬æ¢ä¸º â€œe231â€ï¼‰ï¼›ç„¶åæ¥å£è¿”å›çš„æ•°æ®æŒ‰ç…§æˆ‘ä»¬çš„è¿™ä¸ªå­—ä½“æ–‡ä»¶çš„è§„åˆ™åè¿‡å»æ˜ å°„å‡ºæ¥ã€‚

2. **æ–¹æ¡ˆ2:** å°†ç½‘ç«™çš„é‡è¦å­—ä½“ï¼Œå°† html éƒ¨åˆ†ç”Ÿæˆå›¾ç‰‡ï¼Œè¿™æ ·å­çˆ¬è™«è¦è¯†åˆ«åˆ°éœ€è¦çš„å†…å®¹æˆæœ¬å°±å¾ˆé«˜äº†ï¼Œéœ€è¦ç”¨åˆ° OCRã€‚æ•ˆç‡ä¹Ÿå¾ˆä½ã€‚æ‰€ä»¥å¯ä»¥æ‹¦æˆªé’“ä¸€éƒ¨åˆ†çš„çˆ¬è™«

3. **æ–¹æ¡ˆ3:** çœ‹åˆ°æºç¨‹çš„æŠ€æœ¯åˆ†äº«â€œåçˆ¬çš„æœ€é«˜å¢ƒç•Œå°±æ˜¯ Canvas çš„æŒ‡çº¹ï¼ŒåŸç†æ˜¯ä¸åŒçš„æœºå™¨ä¸åŒçš„ç¡¬ä»¶å¯¹äº Canvas ç”»å‡ºçš„å›¾æ€»æ˜¯å­˜åœ¨åƒç´ çº§åˆ«çš„è¯¯å·®ï¼Œå› æ­¤æˆ‘ä»¬åˆ¤æ–­å½“å¯¹äºè®¿é—®æ¥è¯´å¤§é‡çš„ canvas çš„æŒ‡çº¹ä¸€è‡´çš„è¯ï¼Œåˆ™è®¤ä¸ºæ˜¯çˆ¬è™«ï¼Œåˆ™å¯ä»¥å°æ‰å®ƒâ€ã€‚

   æœ¬äººå°†æ–¹æ¡ˆ1å®ç°åˆ° Demo ä¸­äº†ã€‚

### å…³é”®æ­¥éª¤

1. å…ˆæ ¹æ®ä½ ä»¬çš„äº§å“æ‰¾åˆ°å¸¸ç”¨çš„å…³é”®è¯ï¼Œç”Ÿæˆ**è¯äº‘**
2. æ ¹æ®è¯äº‘ï¼Œå°†æ¯ä¸ªå­—ç”Ÿæˆå¯¹åº”çš„ unicode ç 
3. å°†è¯äº‘åŒ…æ‹¬çš„æ±‰å­—åšæˆä¸€ä¸ªå­—ä½“åº“
4. å°†å­—ä½“åº“ .ttf åšæˆ svg æ ¼å¼ï¼Œç„¶åä¸Šä¼ åˆ° [icomoon](https://icomoon.io/app/#/select/font) åˆ¶ä½œè‡ªå®šä¹‰çš„å­—ä½“ï¼Œä½†æ˜¯æœ‰è§„åˆ™ï¼Œæ¯”å¦‚ **â€œå¹´â€** å¯¹åº”çš„ **unicode ç **æ˜¯ **â€œ\u5e74â€** ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦åšä¸€ä¸ª **æºæ’’åŠ å¯†** ï¼Œæ¯”å¦‚æˆ‘ä»¬è®¾ç½® **åç§»é‡** ä¸º1ï¼Œé‚£ä¹ˆç»è¿‡**æºæ’’åŠ å¯†**  **â€œå¹´â€**å¯¹åº”çš„ **unicode** ç æ˜¯**â€œ\u5e75â€** ã€‚åˆ©ç”¨è¿™ç§è§„åˆ™åˆ¶ä½œæˆ‘ä»¬éœ€è¦çš„å­—ä½“åº“
5. åœ¨æ¯æ¬¡è°ƒç”¨æ¥å£çš„æ—¶å€™æœåŠ¡ç«¯åšçš„äº‹æƒ…æ˜¯ï¼šæœåŠ¡ç«¯å°è£…æŸä¸ªæ–¹æ³•ï¼Œå°†æ•°æ®ç»è¿‡æ–¹æ³•åˆ¤æ–­æ˜¯ä¸æ˜¯åœ¨è¯äº‘ä¸­ï¼Œå¦‚æœæ˜¯è¯äº‘ä¸­çš„å­—ç¬¦ï¼Œåˆ©ç”¨è§„åˆ™ï¼ˆæ‰¾åˆ°æ±‰å­—å¯¹åº”çš„ unicode ç ï¼Œå†æ ¹æ®å‡¯æ’’åŠ å¯†ï¼Œè®¾ç½®å¯¹åº”çš„åç§»é‡ï¼ŒDemo ä¸­ä¸º1ï¼Œå°†æ¯ä¸ªæ±‰å­—åŠ å¯†å¤„ç†ï¼‰åŠ å¯†å¤„ç†åè¿”å›æ•°æ®
6. å®¢æˆ·ç«¯åšçš„äº‹æƒ…ï¼š
   - å…ˆå¼•å…¥æˆ‘ä»¬å‰é¢åˆ¶ä½œå¥½çš„æ±‰å­—å­—ä½“åº“
   - è°ƒç”¨æ¥å£æ‹¿åˆ°æ•°æ®ï¼Œæ˜¾ç¤ºåˆ°å¯¹åº”çš„ Dom èŠ‚ç‚¹ä¸Š
   - å¦‚æœæ˜¯æ±‰å­—æ–‡æœ¬ï¼Œæˆ‘ä»¬å°†å¯¹åº”èŠ‚ç‚¹çš„ css ç±»è®¾ç½®æˆæ±‰å­—ç±»ï¼Œè¯¥ç±»å¯¹åº”çš„ font-family æ˜¯æˆ‘ä»¬ä¸Šé¢å¼•å…¥çš„æ±‰å­—å­—ä½“åº“

```css
//style.css
@font-face {
  font-family: "NumberFont";
  src: url('http://127.0.0.1:8080/Util/analysis');
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@font-face {
  font-family: "CharacterFont";
  src: url('http://127.0.0.1:8080/Util/map');
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h2 {
  font-family: "NumberFont";
}

h3,a{
  font-family: "CharacterFont";
}
```


![æ¥å£æ•ˆæœ](https://raw.githubusercontent.com/FantasticLBP/knowledge-kit/master/assets/WX20180810-095006%402x.png)
![å®¡æŸ¥å…ƒç´ æ•ˆæœ](https://raw.githubusercontent.com/FantasticLBP/knowledge-kit/master/assets/WX20180810-095124%402x.png)


### ä¼ é€é—¨

[å­—ä½“åˆ¶ä½œçš„æ­¥éª¤](https://blog.csdn.net/fdipzone/article/details/68166388)ã€[ttfè½¬svg](https://everythingfonts.com/ttf-to-svg)ã€[å­—ä½“æ˜ å°„è§„åˆ™](https://icomoon.io/app/#/select/font)


## å®ç°çš„æ•ˆæœ
  1. é¡µé¢ä¸Šçœ‹åˆ°çš„æ•°æ®è·Ÿå®¡æŸ¥å…ƒç´ çœ‹åˆ°çš„ç»“æœä¸ä¸€è‡´
  2. å»æŸ¥çœ‹æ¥å£æ•°æ®è·Ÿå®¡æ ¸å…ƒç´ å’Œç•Œé¢çœ‹åˆ°çš„ä¸‰è€…ä¸ä¸€è‡´
  3. é¡µé¢æ¯æ¬¡åˆ·æ–°ä¹‹å‰å¾—å‡ºçš„ç»“æœæ›´ä¸ä¸€è‡´
  4. å¯¹äºæ•°å­—å’Œæ±‰å­—çš„å¤„ç†æ‰‹æ®µéƒ½ä¸ä¸€è‡´

  è¿™å‡ ç§ç»„åˆæ‹³æ‰“ä¸‹æ¥ã€‚å¯¹äºä¸€èˆ¬çš„çˆ¬è™«å°±æ”¾å¼ƒäº†ã€‚



  ![æ•°å­—åçˆ¬-ç½‘é¡µæ˜¾ç¤ºæ•ˆæœã€å®¡æŸ¥å…ƒç´ ã€æ¥å£ç»“æœæƒ…å†µ1](https://github.com/FantasticLBP/knowledge-kit/raw/master/assets/WX20180810-151046@2x.png)
  ![æ•°å­—åçˆ¬-ç½‘é¡µæ˜¾ç¤ºæ•ˆæœã€å®¡æŸ¥å…ƒç´ ã€æ¥å£ç»“æœæƒ…å†µ2](https://github.com/FantasticLBP/knowledge-kit/raw/master/assets/WX20180810-151203@2x.png)
  ![æ•°å­—åçˆ¬-ç½‘é¡µæ˜¾ç¤ºæ•ˆæœã€å®¡æŸ¥å…ƒç´ ã€æ¥å£ç»“æœæƒ…å†µ3](https://github.com/FantasticLBP/knowledge-kit/blob/master/assets/WX20180810-151239@2x.png?raw=true)
  ![æ•°å­—åçˆ¬-ç½‘é¡µæ˜¾ç¤ºæ•ˆæœã€å®¡æŸ¥å…ƒç´ ã€æ¥å£ç»“æœæƒ…å†µ4](https://github.com/FantasticLBP/knowledge-kit/blob/master/assets/WX20180810-151308@2x.png?raw=true)
  ![æ±‰å­—åçˆ¬-ç½‘é¡µæ˜¾ç¤ºæ•ˆæœã€å®¡æŸ¥å…ƒç´ ã€æ¥å£ç»“æœæƒ…å†µ1](https://raw.githubusercontent.com/FantasticLBP/knowledge-kit/master/assets/WX20180810-095006%402x.png)
  ![æ±‰å­—åçˆ¬-ç½‘é¡µæ˜¾ç¤ºæ•ˆæœã€å®¡æŸ¥å…ƒç´ ã€æ¥å£ç»“æœæƒ…å†µ2](https://raw.githubusercontent.com/FantasticLBP/knowledge-kit/master/assets/WX20180810-095124%402x.png)

<hr>

å‰é¢çš„ ttf è½¬ svg ç½‘ç«™å½“ ttf æ–‡ä»¶å¤ªå¤§ä¼šé™åˆ¶è½¬æ¢ï¼Œè®©ä½ è´­ä¹°ï¼Œä¸‹é¢è´´å‡ºä¸ªæ–°çš„é“¾æ¥ã€‚

[ttfè½¬svg](https://convertio.co/zh/font-converter/)



## [Demo åœ°å€](https://github.com/FantasticLBP/Anti-WebSpider)
  
  ![æ•ˆæœæ¼”ç¤º](https://raw.githubusercontent.com/FantasticLBP/Anti-WebSpider/master/Anti-WebSpider.gif)



 è¿è¡Œæ­¥éª¤

```powershell
//å®¢æˆ·ç«¯ã€‚å…ˆæŸ¥çœ‹æœ¬æœº ip åœ¨ Demo/Spider-develop/Solution/Solution1.js å’Œ Demo/Spider-develop/Solution/Solution2.js  é‡Œé¢å°†æ¥å£åœ°å€ä¿®æ”¹ä¸ºæœ¬æœº ip

$ cd Demo
$ ls
REST		Spider-release	file-Server.js
Spider-develop	Util		rule.json
$ node file-Server.js 
Server is runnig at http://127.0.0.1:8080/

//æœåŠ¡ç«¯ å…ˆå®‰è£…ä¾èµ–
$ cd REST/
$ npm install
$ node app.js 
```
